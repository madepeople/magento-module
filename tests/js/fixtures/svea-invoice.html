<!-- Markup that should be generated by the svea-webpay template for svea invoice -->
<div id="payment_form_svea_invoice" style="display:none;">
    <div id="svea-invoice-payment-invalid-country" style="display:none;">
        This payment method cannot be used for this billing country.
    </div>
    <div id="svea-invoice-payment-information" class="svea-payment-se svea-payment-dk svea-payment-no svea-payment-fi svea-payment-nl svea-payment-de">

        <!-- This input needs to be populated and transmitted to the backend, because we validate it against the items fetched from getAddress to minimize fraud -->
        <input type="hidden" id="payment_svea_invoice_address_selector" name="payment[svea_invoice][address_selector]" value="" />

        <!-- Shared by all countries and types -->
        <ul class="form-list">
            <li class="control">
                <input type="radio" name="payment[svea_invoice][customer_type]" value="individual" checked="checked" id="payment_customer_type_individual" /><label for="payment_customer_type_individual"> Privatperson</label>
            </li>
            <li class="control">
                <input type="radio" name="payment[svea_invoice][customer_type]" value="company" id="payment_customer_type_company" /><label for="payment_customer_type_company"> Företag</label>
            </li>
        </ul>

        <!-- For private individuals -->
        <div class="svea-type-individual">
            <!-- Scandinavia -->
            <ul class="form-list svea-payment-se svea-payment-dk svea-payment-no svea-payment-fi">
                <li class="fields">
                    <div class="field input-box">
                        <label for="payment_individual_svea_invoice_ssn" class="required"><em>*</em>Personnummer</label>
                        <div class="input-box">
                            <input type="text" class="input-text required-entry" value="" name="payment[svea_invoice][individual][ssn_vat]" id="payment_individual_svea_invoice_ssn" />
                        </div>
                    </div>
                </li>
            </ul>
            <!-- Germany and the Netherlands -->
            <ul class="form-list svea-payment-nl svea-payment-de">
                <li class="fields">
                    <div class="field">
                        <div class="field">
                            <label for="billing:month">Födelsedatum</label>
                            <div class="input-box customer-dob">
                                <div class="dob-year">
                                    <input type="text" id="payment:year" name="payment[svea_invoice][individual][birth_year]" value="" title="Year" class="input-text validate-custom" autocomplete="off" />
                                    <label for="payment:year" class="required"><em>*</em>YYYY</label>
                                </div>
                                <div class="dob-month">
                                    <input type="text" id="payment:month" name="payment[svea_invoice][individual][birth_month]" value="" title="Month" class="input-text validate-custom" />
                                    <label for="payment:month" class="required"><em>*</em>MM</label>
                                </div>
                                <div class="dob-day">
                                    <input type="text" id="payment:day" name="payment[svea_invoice][individual][birth_day]" value="" title="Day" class="input-text validate-custom" />
                                    <label for="payment:day" class="required"><em>*</em>DD</label>
                                </div>
                                <div class="dob-full" style="display:none;">
                                    <input type="hidden" id="payment:dob" name="payment[svea_invoice][individual][dob]" />
                                </div>
                                <div class="validation-advice" style="display: none;"></div>
                            </div>
                        </div>
                    </div>
                </li>
            </ul>
            <!-- Initials and house number for the Netherlands + Germany -->
            <ul class="form-list svea-payment-nl svea-payment-de">
                <li class="fields">
                    <div class="field">
                        <label for="payment_individual_svea_invoice_housenumber" class="required"><em>*</em>Husnummer</label>
                        <div class="input-box">
                            <input type="text" class="input-text required-entry" id="payment_individual_svea_invoice_housenumber" name="payment[svea_invoice][individual][housenumber]" />
                        </div>
                    </div>
                    <div class="field svea-payment-nl">
                        <label for="payment_individual_svea_invoice_initials" class="required"><em>*</em>Initialer</label>
                        <div class="input-box">
                            <input type="text" class="input-text required-entry" id="payment_individual_svea_invoice_initials" name="payment[svea_invoice][individual][initials]" />
                        </div>
                    </div>
                </li>
            </ul>
            <!-- Only Sweden and Denmark use the get address function -->
            <ul class="form-list svea-payment-se svea-payment-dk svea-get-address">
                <li class="control">
                    <button type="button" class="button" onclick="svea.getAddress('svea_invoice')">
                        <span>
                            <span>Hämta adress</span>
                        </span>
                    </button>
                </li>
            </ul>
        </div>
        <!-- For companies -->
        <div class="svea-type-company">
            <!-- Scandinavia -->
            <ul class="form-list svea-payment-se svea-payment-dk svea-payment-no svea-payment-fi svea-payment-nl svea-payment-de">
                <li class="fields">
                    <div class="field input-box">
                        <label for="payment_company_svea_invoice_ssn" class="required"><em>*</em>Organisationsnummer</label>
                        <div class="input-box">
                            <input type="text" class="input-text required-entry" value="" name="payment[svea_invoice][company][ssn_vat]" id="payment_company_svea_invoice_ssn" />
                        </div>
                    </div>
                </li>
            </ul>
            <!-- Initials and house number for the Netherlands + Germany -->
            <ul class="form-list svea-payment-nl svea-payment-de">
                <li class="fields">
                    <div class="field">
                        <label for="payment_company_svea_invoice_housenumber" class="required"><em>*</em>Husnummer</label>
                        <div class="input-box">
                            <input type="text" class="input-text required-entry" id="payment_company_svea_invoice_housenumber" name="payment[svea_invoice][company][housenumber]" />
                        </div>
                    </div>
                </li>
            </ul>
            <!-- Only Sweden and Denmark use the getAddress function -->
            <ul class="form-list svea-payment-se svea-payment-dk svea-get-address">
                <li class="control">
                    <button type="button" class="button" onclick="svea.getAddress('svea_invoice')">
                        <span>
                            <span>Hämta adress</span>
                        </span>
                    </button>
                </li>
            </ul>
        </div>
        <!-- We put the getAddressed address inside this little boxy box -->
        <div class="svea-payment-se svea-payment-dk">
            <div id="svea-invoice-address-box" class="svea-address-box tool-tip" style="display:none;">

                <img class="svea-loader" src="http://svea-webpay.testing/skin/frontend/base/default/svea/loader-blue.gif">

                <div class="svea-address-container" style="display:none">
                    <strong>Fakturan kommer att skickas till:</strong>
                    <div class="svea-select-container"></div>
                    <address class="svea-address-element"></address>
                </div>
            </div>

            <!-- Using a div tag for a template actually works everywhere, it would be more nice to use a script tag, but prototype is weird -->
            <div id="svea-invoice-address-template" style="display:none">
                #{firstName} #{lastName} #{coAddress}<br />
                #{street}<br />
                #{zipCode} #{locality}<br />
                T: #{phoneNumber}
            </div>
        </div>
    </div>
</div>
